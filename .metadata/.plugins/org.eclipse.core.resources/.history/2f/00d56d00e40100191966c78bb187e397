package basic.basic_06_2_aop_adviceBaseSchema.test;

import org.junit.BeforeClass;
import org.junit.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import basic.basic_06_2_aop_adviceBaseSchema.service.HelloWorldService;

public class BeforeAdviceTest {

	private static HelloWorldService bean;
	
	@BeforeClass
	public static void beforeClass() {
		ApplicationContext context = new ClassPathXmlApplicationContext("basic/basic_06_2_aop_adviceBaseSchema/beforeAdvice.xml");
		bean = context.getBean(HelloWorldService.class);
	}
	
	
	/**
	 * 测试无参前置拦截器
	 */
	@Test
	public void testMethod1() {
		bean.sayHello();
		/**
		 * 输出:
		 *  1. HelloWorldBeforeAspect...beforeAdvice1()...,no params...
		 *	HelloWorldServiceImpl...sayHello()...,no params...
		 */
	}

	/**
	 * 测试一个参数前置拦截器
	 */
	@Test
	public void testMethod2() {
		bean.sayHello2(2);
		/**
		 * 输出:
		 *  1. HelloWorldBeforeAspect...beforeAdvice1()...,no params...
		 *	2. HelloWorldBeforeAspect...beforeAdvice2(Integer num),num:2
		 *	HelloWorldServiceImpl...sayHello2(Integer num)...,num:2
		 */
	}
	
	
}
